# æ•°æ®ç®¡ç†ç³»ç»Ÿ

æœ¬é¡¹ç›®ä½¿ç”¨ parameters.py ä½œä¸ºä¸­å¤®é…ç½®æ¢çº½ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ•°æ®æ–‡ä»¶çš„è·¯å¾„å’Œè®¿é—®æ–¹å¼ã€‚

## 1. æ•°æ®ç›®å½•ç»“æ„

### 1.1 åŸºæœ¬ç›®å½•ç»“æ„

```
ğŸ“ data_dir/                              # é¢„è®¾æ ¹ç›®å½•
â””â”€â”€ ğŸ“ {APP_NAME}_dir/                    # ä»¥ç”¨æˆ·è¾“å…¥çš„è°ƒç ”äº§å“åç§°å‘½å
    â”œâ”€â”€ ğŸ“ 00_rawdata_dir/                # åŸå§‹æ•°æ®
    â”œâ”€â”€ ğŸ“ 01_preprocessed_for_llm_dir/   # é¢„å¤„ç†æ•°æ®
    â”œâ”€â”€ ğŸ“ 02_interview_outline_dir/      # è®¿è°ˆå¤§çº²æ•°æ®
    â”œâ”€â”€ ğŸ“ 03_inductive_coding_dir/       # å½’çº³ç¼–ç æ•°æ®
    â””â”€â”€ ğŸ“ 04_deductive_coding_dir/       # æ¼”ç»ç¼–ç æ•°æ®
```

### 1.2 Category ç›®å½•ç»“æ„

æ¯ä¸ª Categoryï¼ˆåˆ†ç±»ï¼‰åœ¨ `02_interview_outline_dir` ä¸‹éƒ½æœ‰ç‹¬ç«‹çš„ç›®å½•ç»“æ„ï¼š

```
ğŸ“ 02_interview_outline_dir/
â”œâ”€â”€ ğŸ“ ç”¨æˆ·ç‰¹å¾/                          # Category ç¤ºä¾‹
â”‚   â”œâ”€â”€ ğŸ“ question_data_dir/            # é—®é¢˜æ•°æ®
â”‚   â”œâ”€â”€ ğŸ“ codebook_data_dir/            # ç¼–ç æœ¬æ•°æ®
â”‚   â””â”€â”€ ğŸ“ meta_data_dir/                # å…ƒæ•°æ®
â””â”€â”€ ğŸ“ [å…¶ä»– Category]/                   # ç›¸åŒç»“æ„
```

## 2. Category ç³»ç»Ÿ

### 2.1 Category å®šä¹‰

Categoryï¼ˆåˆ†ç±»ï¼‰æ˜¯è®¿è°ˆå¤§çº²çš„é¡¶å±‚ç»„ç»‡å•ä½ï¼Œä»£è¡¨è®¿è°ˆå†…å®¹çš„ä¸»è¦ä¸»é¢˜æˆ–æ–¹é¢ã€‚æ¯ä¸ªCategoryåŒ…å«ä¸€ç»„ç›¸å…³çš„è®¿è°ˆé—®é¢˜ã€‚ä¾‹å¦‚ï¼š
- ç”¨æˆ·ç‰¹å¾ï¼šåŸºæœ¬äººå£ç»Ÿè®¡å­¦ä¿¡æ¯ï¼ˆå¹´é¾„ã€èŒä¸šç­‰ï¼‰
- ç”¨æˆ·ä½“éªŒï¼šäº§å“ä½¿ç”¨ä½“éªŒå’Œæ„Ÿå—
- äº§å“ç‰¹å¾ï¼šå¯¹äº§å“åŠŸèƒ½å’Œç‰¹æ€§çš„è¯„ä»·
- åˆ›é€ æ€§ä½“éªŒï¼šä½¿ç”¨äº§å“æ—¶çš„åˆ›é€ æ€§æ´»åŠ¨
- æ¸¸æˆä½“éªŒï¼šæ¸¸æˆç›¸å…³çš„ä½“éªŒå’Œè¡Œä¸º

### 2.2 Category æ•°æ®å­˜å‚¨

Categoryä¿¡æ¯å­˜å‚¨åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `{APP_NAME}-outline.csv` æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶çš„ç»“æ„å¦‚ä¸‹ï¼š

```csv
é—®é¢˜ç¼–å·,åˆ†ç±»åç§°,é—®é¢˜å†…å®¹
1,ç”¨æˆ·ç‰¹å¾,æ‚¨çš„å¹´é¾„æ˜¯ï¼Ÿ
2,ç”¨æˆ·ç‰¹å¾,æ‚¨çš„èŒä¸šæ˜¯ï¼Ÿ
6,ç”¨æˆ·ä½“éªŒ,æ‚¨æœ€å¸¸ä½¿ç”¨äº§å“çš„å“ªäº›åŠŸèƒ½ï¼Ÿ
7,ç”¨æˆ·ä½“éªŒ,ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°è¿‡ä»€ä¹ˆé—®é¢˜ï¼Ÿ
```

### 2.3 è®¿é—® Category æ•°æ®

parameters.py æä¾›äº†å¤šç§æ–¹å¼è®¿é—®Categoryç›¸å…³æ•°æ®ï¼š

1. **è·å–Categoryåˆ—è¡¨**ï¼š
```python
from parameters import UNIQUE_CATEGORIES

# UNIQUE_CATEGORIES åŒ…å«æ‰€æœ‰åˆ†ç±»åç§°
for category in UNIQUE_CATEGORIES:
    print(f"å¤„ç†åˆ†ç±»: {category}")
```

2. **è·å–Category-é—®é¢˜æ˜ å°„**ï¼š
```python
from parameters import OUTLINE

# OUTLINE æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œé”®ä¸ºåˆ†ç±»åç§°ï¼Œå€¼ä¸ºè¯¥åˆ†ç±»ä¸‹çš„é—®é¢˜ç¼–å·åˆ—è¡¨
for category, question_numbers in OUTLINE.items():
    print(f"åˆ†ç±» {category} åŒ…å«é—®é¢˜: {question_numbers}")
```

3. **è®¿é—®Categoryç‰¹å®šç›®å½•**ï¼š
```python
from parameters import (
    get_category_specific_path,
    SDIR_GROUP_QDATA,
)

# è·å–ç‰¹å®šåˆ†ç±»çš„é—®é¢˜æ•°æ®ç›®å½•
category_path = get_category_specific_path("ç”¨æˆ·ä½“éªŒ", SDIR_GROUP_QDATA)
```

## 3. æ•°æ®æ¥å£

### 3.1 åŸºæœ¬å¯¼å…¥

```python
# å¯¼å…¥è·¯å¾„è·å–æ¥å£
from parameters import (
    get_path,                    # è·å–å•ä¸ªæ–‡ä»¶æˆ–ç›®å½•è·¯å¾„
    get_path_list,              # è·å–åˆ†ç»„è·¯å¾„åˆ—è¡¨
    get_category_specific_path,  # è·å–ç‰¹å®šåˆ†ç±»çš„è·¯å¾„
)

# å¯¼å…¥ç›®å½•ç±»å‹å¸¸é‡
from parameters import (
    SDIR_GROUP_QDATA,   # é—®é¢˜æ•°æ®ç›®å½•
    SDIR_GROUP_CBOOK,   # ç¼–ç æœ¬ç›®å½•
    SDIR_GROUP_META,    # å…ƒæ•°æ®ç›®å½•
)

# å¯¼å…¥ç›®å½•åˆ›å»ºå·¥å…·
from parameters import ensure_dir_exists

# å¯¼å…¥æ—¥å¿—å·¥å…·ï¼ˆå¯é€‰ï¼‰
from parameters import logger
```

### 3.2 æŒ‰åŠŸèƒ½å¯¼å…¥

æ ¹æ®è„šæœ¬çš„ä¸åŒåŠŸèƒ½éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹©æ€§å¯¼å…¥ï¼š

```python
# å¤„ç†åŸå§‹æ•°æ®çš„è„šæœ¬
from parameters import (
    get_path,
    APP_NAME,
    PROJECT_ROOT,
    SDIR_00_RAW,
)

# å¤„ç†å½’çº³ç¼–ç çš„è„šæœ¬
from parameters import (
    get_path,
    get_path_list,
    get_category_specific_path,
    SDIR_GROUP_QDATA,
    SDIR_GROUP_CBOOK,
)

# å¤„ç†æ¼”ç»ç¼–ç çš„è„šæœ¬
from parameters import (
    get_path,
    get_category_specific_path,
    SDIR_GROUP_META,
)
```

### 3.3 å¯ç”¨è·¯å¾„é”®å€¼

#### å•ä¸ªè·¯å¾„é”®å€¼ (get_path)

| é”®å | è¯´æ˜ | ç¤ºä¾‹è·¯å¾„ |
|------|------|----------|
| 'APP_PATH' | åº”ç”¨æ ¹ç›®å½• | `.../data_dir/myworld_dir/` |
| 'UI' | åŸå§‹æ•°æ®æ–‡ä»¶ | `.../00_rawdata_dir/myworld.csv` |
| 'UI_ol' | åŸå§‹å¤§çº²æ–‡ä»¶ | `.../00_rawdata_dir/myworld-outline.csv` |
| 'UI_path' | åŸå§‹æ•°æ®ç›®å½• | `.../00_rawdata_dir/` |
| 'UI_utxt' | é¢„å¤„ç†åçš„ç”¨æˆ·æ–‡æœ¬ | `.../01_preprocessed_for_llm_dir/myworld_user.txt` |
| 'UI_qtxt' | é¢„å¤„ç†åçš„é—®é¢˜æ–‡æœ¬ | `.../01_preprocessed_for_llm_dir/myworld_question.txt` |
| 'UI_utxt_path' | é¢„å¤„ç†æ•°æ®ç›®å½• | `.../01_preprocessed_for_llm_dir/` |
| 'inductive_global_dir' | å½’çº³ç¼–ç å…¨å±€ç›®å½• | `.../03_inductive_coding_dir/` |
| 'inductive_merged_json' | å½’çº³ç¼–ç åˆå¹¶ç»“æœ | `.../03_inductive_coding_dir/myworld_inductive_codes.json` |
| 'inductive_maxqda_opencode' | MAXQDAå¼€æ”¾ç¼–ç  | `.../03_inductive_coding_dir/myworld_inductive_maxqda_opencode.txt` |
| 'inductive_maxqda_themecode' | MAXQDAä¸»é¢˜ç¼–ç  | `.../03_inductive_coding_dir/myworld_inductive_maxqda_themecode.txt` |
| 'inductive_global_metadata' | å½’çº³ç¼–ç å…ƒæ•°æ® | `.../03_inductive_coding_dir/myworld_inductive_metadata.json` |
| 'deductive_global_dir' | æ¼”ç»ç¼–ç å…¨å±€ç›®å½• | `.../04_deductive_coding_dir/` |
| 'deductive_llm_raw_output' | LLMåŸå§‹è¾“å‡º | `.../04_deductive_coding_dir/myworld_deductive_llm_output.json` |
| 'deductive_maxqda_text' | MAXQDAæ¼”ç»ç¼–ç  | `.../04_deductive_coding_dir/myworld_deductive_maxqda.txt` |
| 'deductive_global_metadata' | æ¼”ç»ç¼–ç å…ƒæ•°æ® | `.../04_deductive_coding_dir/myworld_deductive_metadata.json` |

#### è·¯å¾„åˆ—è¡¨é”®å€¼ (get_path_list)

| é”®å | è¯´æ˜ | è¿”å›ç±»å‹ |
|------|------|----------|
| 'grouped_qdata_category_dirs' | æ‰€æœ‰åˆ†ç±»çš„é—®é¢˜æ•°æ®ç›®å½• | List[str] |
| 'grouped_user_g_txts' | æ‰€æœ‰åˆ†ç±»çš„ç”¨æˆ·å›ç­”æ–‡æœ¬ | List[str] |
| 'grouped_inductive_q_jsons' | å½’çº³ç¼–ç é—®é¢˜JSONæ–‡ä»¶ | List[List[str]] |
| 'grouped_deductive_llm_jsons_in_group' | æ¼”ç»ç¼–ç LLMè¾“å‡º | List[str] |
| 'grouped_inductive_q_cbook_jsons' | å½’çº³ç¼–ç æœ¬JSONæ–‡ä»¶ | List[List[str]] |
| 'grouped_raw_codebook_txts' | åŸå§‹ç¼–ç æœ¬æ–‡æœ¬æ–‡ä»¶ | List[str] |
| 'grouped_final_codebooks_txts' | æœ€ç»ˆç¼–ç æœ¬æ–‡æœ¬æ–‡ä»¶ | List[str] |
| 'grouped_meta_data_files' | åˆ†ç±»å…ƒæ•°æ®æ–‡ä»¶ | List[str] |

#### æ–‡ä»¶åæ¨¡å¼

| é”®å | è¯´æ˜ | æ¨¡å¼ |
|------|------|------|
| 'pattern_inductive_q_json' | å½’çº³ç¼–ç é—®é¢˜JSON | `'inductive_question[0-9]*.json'` |
| 'pattern_inductive_q_cbook_json' | å½’çº³ç¼–ç æœ¬JSON | `'inductive_question[0-9]*_codebook.json'` |
| 'pattern_deductive_llm_in_group' | æ¼”ç»ç¼–ç LLMè¾“å‡º | `'deductive_code_by_LLM.json'` |

## 4. æœ€ä½³å®è·µ

### 4.1 è·¯å¾„è®¿é—®è§„åˆ™
- æ€»æ˜¯ä½¿ç”¨æ¥å£æä¾›çš„è·¯å¾„ï¼Œä¸è¦è‡ªè¡Œæ‹¼æ¥æˆ–ä¿®æ”¹
- ä½¿ç”¨å‰æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨
- å¯¹äºæ–°æ–‡ä»¶ï¼Œç¡®ä¿çˆ¶ç›®å½•å­˜åœ¨

### 4.2 Category æ“ä½œè§„åˆ™
- ä½¿ç”¨ UNIQUE_CATEGORIES éªŒè¯ Category åç§°
- ä¿æŒ Category ç›®å½•ç»“æ„ä¸€è‡´æ€§
- ä½¿ç”¨ get_category_specific_path è®¿é—® Category æ•°æ®

### 4.3 é”™è¯¯å¤„ç†
- æ•è·å¹¶å¦¥å–„å¤„ç†æ–‡ä»¶æ“ä½œå¼‚å¸¸
- ä½¿ç”¨ parameters.py æä¾›çš„ ensure_dir_exists å‡½æ•°åˆ›å»ºç›®å½•
- è®°å½•å…³é”®æ“ä½œçš„æ—¥å¿—

### 4.4 ç¼–ç å¤„ç†
- å§‹ç»ˆä½¿ç”¨ UTF-8 ç¼–ç è¯»å†™æ–‡ä»¶
- JSON æ–‡ä»¶ä½¿ç”¨ ensure_ascii=False ä¿å­˜ä¸­æ–‡
- ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¤„ç†æ–‡ä»¶æ“ä½œ

## 5. æ³¨æ„äº‹é¡¹

- ä¸è¦ç›´æ¥ä¿®æ”¹ parameters.py ä¸­çš„è·¯å¾„é…ç½®
- éµå¾ªé¡¹ç›®çš„ç›®å½•ç»“æ„å’Œå‘½åçº¦å®š
- åœ¨å¤„ç†å¤§é‡æ–‡ä»¶æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨
- ä¿æŒè‰¯å¥½çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•ä¹ æƒ¯ 